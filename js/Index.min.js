$(document).ready(e=>{db.collection("notifications").get().then(e=>{t(e.docs.reverse())});const t=e=>{e.forEach(e=>{const t=e.data();$.toast({text:t.description,heading:t.title,hideAfter:1e4,loaderBg:"#ffe100",position:"bottom-right",showHideTransition:"fade",icon:"info"})})};db.collection("eventCards").doc("LSeIS0Q8FfbsXCxL9iZN").onSnapshot(e=>{const t=e.data().card1,i=e.data().card2,o=e.data().card3;db.collection("Events").where("title","==",t).limit(1).get().then(e=>{e.forEach(e=>{const t=e.data();storage.ref("events/"+t.title).getDownloadURL().then(i=>{let o=`<img src=${i} alt="" style="width:100%">\n        <div class="pad">\n          <div class="ae-6">\n            <h6 class="uppercase bold small opacity-4">${t.type}</h6>\n          </div>\n          <div class="margin-top-3 margin-bottom-3 equalElement ae-7">\n            <h3>\n                ${t.title}\n            </h3>\n            <p class="p tiny" style="padding-top:10px;text-align:left;height:180px;overflow: scroll;">\n                ${t.description}\n            </p>\n          </div>\n          <a  href="event.html#${e.id}" class="button blue gradient wide cropSides cropBottom ae-8">View Details</a>\n        </div>`;document.querySelector("#eventCard1").innerHTML=o})})}).catch(e=>{$.toast({text:e.message,heading:"Error",hideAfter:1e4,loaderBg:"#ffe100",position:"bottom-right",showHideTransition:"fade",icon:"error"})}),db.collection("Events").where("title","==",i).limit(1).get().then(e=>{e.forEach(e=>{const t=e.data();storage.ref("events/"+t.title).getDownloadURL().then(i=>{let o=`<img src=${i} alt="" style="width:100%">\n       <div class="pad">\n         <div class="ae-6">\n           <h6 class="uppercase bold small opacity-4">${t.type}</h6>\n         </div>\n         <div class="margin-top-3 margin-bottom-3 equalElement ae-7">\n           <h3>\n               ${t.title}\n           </h3>\n           <p class="p tiny" style="padding-top:10px;text-align:left;height:180px;overflow: scroll;">\n               ${t.description}\n           </p>\n         </div>\n         <a  href="event.html#${e.id}" class="button blue gradient wide cropSides cropBottom ae-8">View Details</a>\n       </div>`;document.querySelector("#eventCard2").innerHTML=o})})}).catch(e=>{$.toast({text:e.message,heading:"Error",hideAfter:1e4,loaderBg:"#ffe100",position:"bottom-right",showHideTransition:"fade",icon:"error"})}),db.collection("Events").where("title","==",o).limit(1).get().then(e=>{e.forEach(e=>{const t=e.data();storage.ref("events/"+t.title).getDownloadURL().then(i=>{let o=`<img src=${i} alt="" style="width:100%">\n     <div class="pad">\n       <div class="ae-6">\n         <h6 class="uppercase bold small opacity-4">${t.type}</h6>\n       </div>\n       <div class="margin-top-3 margin-bottom-3 equalElement ae-7">\n         <h3>\n             ${t.title}\n         </h3>\n         <p class="p tiny" style="padding-top:10px;text-align:left ;height:180px;overflow: scroll;">\n             ${t.description}\n         </p>\n       </div>\n       <a  href="event.html#${e.id}" class="button blue gradient wide cropSides cropBottom ae-8">View Details</a>\n     </div>`;document.querySelector("#eventCard3").innerHTML=o})})}).catch(e=>{$.toast({text:e.message,heading:"Error",hideAfter:1e4,loaderBg:"#ffe100",position:"bottom-right",showHideTransition:"fade",icon:"error"})})}),emailList=document.querySelector("#subscribeForm"),emailList.addEventListener("submit",e=>{e.preventDefault(),db.collection("emailList").add({email:emailList.subscribeEmail.value}).then(e=>{emailList.reset(),$.toast({text:"Thanks for subscribing",heading:"Email Added",hideAfter:3e3,loaderBg:"#ffe100",position:"bottom-right",showHideTransition:"fade",icon:"success"})}).catch(e=>{$.toast({text:e.message,heading:"Error",hideAfter:3e3,loaderBg:"#ffe100",position:"bottom-right",showHideTransition:"fade",icon:"error"})})});var i=document.querySelector("#contactForm");i.addEventListener("submit",e=>{e.preventDefault(),Email.send({SecureToken:"1e86c01d-c730-4688-947f-2b7975e8ddd1",To:"esailfoecu@gmail.com",From:i.email.value,Subject:"New Query from Esail : "+i.subject.value,Body:i.message.value+"<br/><br/><hr/> Senders Name : "+i.name.value+"<br/>Reply to : "+i.email.value}).then(e=>{i.reset(),$.toast({heading:"Query sent!",text:"Request sent to E-SAIL",hideAfter:3e3,loaderBg:"#ffe100",position:"bottom-right",showHideTransition:"fade",icon:"success"})}).catch(e=>{$.toast({heading:"Error",text:e,hideAfter:3e3,loaderBg:"#ffe100",position:"bottom-right",showHideTransition:"fade",icon:"error"})})})});